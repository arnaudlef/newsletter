<div {{ attributes }}>
    {{ form_start(form, {
        attr: {
            'data-model': 'on(change)|*',
            'data-action': 'live#action:prevent',
            'data-live-action-param': 'save'
        }
    }) }}

    <div>
        <div class="form-group py-3">
            <label for="{{ field_id(form.email) }}">Email</label>
            <input type="email" class="form-control" id="{{ field_id(form.email) }}" placeholder="email@example.com" name="{{ field_name(form.email) }}" value="{{ field_value(form.email) }}">
        </div>
        <div class="form-group pt-3">
            <label for="{{ field_id(form.birthDate) }}">Date de naissance</label>
            <input type="date" class="form-control" id="{{ field_id(form.birthDate) }}" name="{{ field_name(form.birthDate) }}" value="{{ field_value(form.birthDate) }}">
        </div>
        
        <div class="pt-3">
            {{ form_row(form.newsletters) }}  
        </div>   
    </div>

    {% if this.isSubmitted is same as(true) and this.isAgeEligible is same as(false) %}
        <p style="padding:8px; background:#b00; border:1px solid rgb(255, 0, 0); margin:10px 0;">
            Désolé, il faut avoir au moins 16 ans.
        </p>
    {% elseif this.isSubmitted is same as(true) %}
        <p style="padding:8px; background:#e7ffe7; border:1px solid #9f9; margin:10px 0;">
            Vous êtes inscrit à la newsletter !
        </p>
    {% endif %}

    <button type="submit" class="annx-btn pt-3" {% if not this.canSubmit %}disabled{% endif %} style="margin-top:10px; {% if not this.canSubmit %}opacity:.5; cursor:not-allowed;{% endif %}">
        S’abonner
    </button>

    {{ form_end(form) }}
</div>